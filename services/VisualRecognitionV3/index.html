<!DOCTYPE html>
<html lang="en">
  <head>
    <title>  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html"> Docs</a></p>
        <p class="header-right"><a href="https://github.com/watson-developer-cloud/swift-sdk"><img src="img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html"> Reference</a>
        <img id="carat" src="img/carat.png" />
          Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Guides.html">Guides</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="readme.html">README</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/VisualRecognition.html">VisualRecognition</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/JSON.html">JSON</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/RestError.html">RestError</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/Class.html">Class</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ClassResult.html">ClassResult</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ClassifiedImage.html">ClassifiedImage</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ClassifiedImages.html">ClassifiedImages</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Classifier.html">Classifier</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Classifier/Status.html">â€“ Status</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ClassifierResult.html">ClassifierResult</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Classifiers.html">Classifiers</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/DetectedFaces.html">DetectedFaces</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ErrorInfo.html">ErrorInfo</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Face.html">Face</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/FaceAge.html">FaceAge</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/FaceGender.html">FaceGender</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/FaceIdentity.html">FaceIdentity</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/FaceLocation.html">FaceLocation</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ImageWithFaces.html">ImageWithFaces</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PositiveExample.html">PositiveExample</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/WarningInfo.html">WarningInfo</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h2 id='visual-recognition' class='heading'>Visual Recognition</h2>

<p>The IBM Watson Visual Recognition service uses deep learning algorithms to analyze images (.jpg or .png) for scenes, objects, faces, text, and other content, and return keywords that provide information about that content. The service comes with a set of built-in classes so that you can analyze images with high accuracy right out of the box. You can also train custom classifiers to create specialized classes.</p>

<p>The following example demonstrates how to use the Visual Recognition service:</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">VisualRecognitionV3</span>

<span class="k">let</span> <span class="nv">apiKey</span> <span class="o">=</span> <span class="s">"your-apikey-here"</span>
<span class="k">let</span> <span class="nv">version</span> <span class="o">=</span> <span class="s">"YYYY-MM-DD"</span> <span class="c1">// use today's date for the most recent version</span>
<span class="k">let</span> <span class="nv">visualRecognition</span> <span class="o">=</span> <span class="kt">VisualRecognition</span><span class="p">(</span><span class="nv">version</span><span class="p">:</span> <span class="n">version</span><span class="p">,</span> <span class="nv">apiKey</span><span class="p">:</span> <span class="n">apiKey</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">url</span> <span class="o">=</span> <span class="s">"your-image-url"</span>
<span class="k">let</span> <span class="nv">failure</span> <span class="o">=</span> <span class="p">{</span> <span class="p">(</span><span class="nv">error</span><span class="p">:</span> <span class="kt">Error</span><span class="p">)</span> <span class="k">in</span> <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">}</span>
<span class="n">visualRecognition</span><span class="o">.</span><span class="nf">classify</span><span class="p">(</span><span class="nv">image</span><span class="p">:</span> <span class="n">url</span><span class="p">,</span> <span class="nv">failure</span><span class="p">:</span> <span class="n">failure</span><span class="p">)</span> <span class="p">{</span> <span class="n">classifiedImages</span> <span class="k">in</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">classifiedImages</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>Note: a different initializer is used for authentication with instances created before May 23, 2018:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">visualRecognition</span> <span class="o">=</span> <span class="kt">VisualRecognition</span><span class="p">(</span><span class="nv">apiKey</span><span class="p">:</span> <span class="n">apiKey</span><span class="p">,</span> <span class="nv">version</span><span class="p">:</span> <span class="n">version</span><span class="p">)</span>
</code></pre>
<h3 id='using-core-ml' class='heading'>Using Core ML</h3>

<p>The Watson Swift SDK supports offline image classification using Apple Core ML. Classifiers must be trained or updated with the <code>coreMLEnabled</code> flag set to true. Once the classifier&rsquo;s <code>coreMLStatus</code> is <code>ready</code> then a Core ML model is available to download and use for offline classification.</p>

<p>Once the Core ML model is in the device&rsquo;s file system, images can be classified offline, directly on the device.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">classifierID</span> <span class="o">=</span> <span class="s">"your-classifier-id"</span>
<span class="k">let</span> <span class="nv">failure</span> <span class="o">=</span> <span class="p">{</span> <span class="p">(</span><span class="nv">error</span><span class="p">:</span> <span class="kt">Error</span><span class="p">)</span> <span class="k">in</span> <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">}</span>
<span class="k">let</span> <span class="nv">image</span> <span class="o">=</span> <span class="kt">UIImage</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span> <span class="s">"your-image-filename"</span><span class="p">)</span>
<span class="n">visualRecognition</span><span class="o">.</span><span class="nf">classifyWithLocalModel</span><span class="p">(</span><span class="nv">image</span><span class="p">:</span> <span class="n">image</span><span class="p">,</span> <span class="nv">classifierIDs</span><span class="p">:</span> <span class="p">[</span><span class="n">classifierID</span><span class="p">],</span> <span class="nv">failure</span><span class="p">:</span> <span class="n">failure</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">classifiedImages</span> <span class="k">in</span> <span class="nf">print</span><span class="p">(</span><span class="n">classifiedImages</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>The local Core ML model can be updated as needed.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">classifierID</span> <span class="o">=</span> <span class="s">"your-classifier-id"</span>
<span class="k">let</span> <span class="nv">failure</span> <span class="o">=</span> <span class="p">{</span> <span class="p">(</span><span class="nv">error</span><span class="p">:</span> <span class="kt">Error</span><span class="p">)</span> <span class="k">in</span> <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">}</span>
<span class="n">visualRecognition</span><span class="o">.</span><span class="nf">updateLocalModel</span><span class="p">(</span><span class="nv">classifierID</span><span class="p">:</span> <span class="n">classifierID</span><span class="p">,</span> <span class="nv">failure</span><span class="p">:</span> <span class="n">failure</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"model updated"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>The following example demonstrates how to list the Core ML models that are stored in the filesystem and available for offline use:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">localModels</span> <span class="o">=</span> <span class="k">try!</span> <span class="n">visualRecognition</span><span class="o">.</span><span class="nf">listLocalModels</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">localModels</span><span class="p">)</span>
</code></pre>

<p>If you would prefer to bypass <code>classifyWithLocalModel</code> and construct your own Core ML classification request, then you can retrieve a Core ML model from the local filesystem with the following example.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">classifierID</span> <span class="o">=</span> <span class="s">"your-classifier-id"</span>
<span class="k">let</span> <span class="nv">localModel</span> <span class="o">=</span> <span class="k">try!</span> <span class="n">visualRecognition</span><span class="o">.</span><span class="nf">getLocalModel</span><span class="p">(</span><span class="nv">classifierID</span><span class="p">:</span> <span class="n">classifierID</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">localModel</span><span class="p">)</span>
</code></pre>

<p>The following example demonstrates how to delete a local Core ML model from the filesystem. This saves space when the model is no longer needed.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">classifierID</span> <span class="o">=</span> <span class="s">"your-classifier-id"</span>
<span class="n">visualRecognition</span><span class="o">.</span><span class="nf">deleteLocalModel</span><span class="p">(</span><span class="nv">classifierID</span><span class="p">:</span> <span class="n">classifierID</span><span class="p">)</span>
</code></pre>
<h4 id='bundling-a-model-directly-with-your-application' class='heading'>Bundling a model directly with your application</h4>

<p>You may also choose to include a Core ML model with your application, enabling images to be classified offline without having to download a model first. To include a model, add it to your application bundle following the naming convention [classifier_id].mlmodel. This will enable the SDK to locate the model when using any function that accepts a classifierID argument.</p>

<p>The following links provide more information about the IBM Watson Visual Recognition service:</p>

<ul>
<li><a href="https://www.ibm.com/watson/services/visual-recognition/">IBM Watson Visual Recognition - Service Page</a></li>
<li><a href="https://console.bluemix.net/docs/services/visual-recognition/index.html">IBM Watson Visual Recognition - Documentation</a></li>
<li><a href="https://visual-recognition-demo.ng.bluemix.net/">IBM Watson Visual Recognition - Demo</a></li>
</ul>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2018 <a class="link" href="" target="_blank" rel="external"></a>. All rights reserved. (Last updated: 2018-08-21)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy â™ªâ™« v0.9.3</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
